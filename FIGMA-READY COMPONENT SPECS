1. FIGMA-READY COMPONENT SPECS

(Design system + components you hand to a designer)

1.1 Global Design System
Color Tokens

--bg-primary: #FFFFFF

--bg-secondary: #F7F9FC

--border-default: #E2E8F0

--text-primary: #0F172A

--text-secondary: #475569

Status Tokens (Hard-coded meaning)

status-valid: #16A34A (green)

status-expiring: #F59E0B (amber)

status-expired: #DC2626 (red)

status-revoked: #7C2D12 (dark red)

status-blocked: #991B1B

⚠️ Status colors are semantic, not themeable.

1.2 Core Components
StatusBadge
Props:
- status: valid | expiring | expired | revoked | blocked
- timestamp (optional)

Rules:
- Color is immutable
- Tooltip shows “Evaluated at {timestamp}”

EvidenceLink
Props:
- evidenceNodeId
- label (QR Scan, JHA Ack, Enforcement Action)

Behavior:
- Opens read-only evidence drawer

QRCodeCard
Props:
- certificationId
- status

Displays:
- QR code
- StatusBadge
- "Scan recorded on use" notice

EvidenceTimeline
Props:
- evidenceNodeIds[]

Renders:
- Chronological vertical timeline
- Icon per evidence type

AICallout
Props:
- insightType
- confidenceScore
- advisoryText

Rules:
- Must include "AI Advisory" label
- Cannot be used as sole justification

2. EXACT API MAPPING (SCREEN → ENDPOINTS)
2.1 Employee Profile (Admin / Safety)
Screen

/people/employees/[id]

APIs
GET /api/employees/:id
GET /api/employees/:id/certifications
GET /api/evidence?entity=employee&id=:id

Actions
POST /api/employees/:id/certifications
POST /api/certifications/:certId/revoke
POST /api/certifications/:certId/qr

2.2 JHA Screen
Screen

/safety/jha/[jhaId]

APIs
GET /api/jha/:jhaId
GET /api/employees/:employeeId/certifications
POST /api/jha/:jhaId/acknowledge


Blocked if cert invalid → 403

2.3 Work Window Assignment
Screen

/operations/work-windows/[id]

APIs
GET /api/work-windows/:id
POST /api/work-windows/:id/assign
GET /api/employees/:employeeId/certifications

2.4 QR Verification (Public)
Screen

/verify/[token]

API
GET /api/verify/:token


Writes:

verification_event

evidence_node

ledger entry

2.5 Audit Vault
Screen

/compliance/audit-vault/[auditId]

APIs
GET /api/audits/:auditId
GET /api/audits/:auditId/evidence
GET /api/audits/:auditId/export

3. UI ACCEPTANCE CRITERIA (QA-GRADE)
3.1 Admin – Employee Certifications

✅ Must:

Show all certs (valid, expiring, expired, revoked)

Always render QR, even if revoked

Show enforcement history

❌ Must NOT:

Allow deletion

Allow status override without evidence

Allow editing past certs

3.2 Safety – JHA Enforcement

✅ Must:

Block acknowledgment if cert invalid

Display reason for block

Log enforcement event

❌ Must NOT:

Allow bypass

Allow manual override

Hide blocked employees

3.3 Dispatch – Work Windows

✅ Must:

Disable approve button if crew blocked

Show which employee caused block

Link to cert evidence

❌ Must NOT:

Assign blocked employees

Suppress warnings

3.4 Supervisor – Field Logs

✅ Must:

Auto-capture timestamp

Lock record after submit

Attach evidence node

❌ Must NOT:

Allow edits

Allow deletion

3.5 Executive – Risk Dashboard

✅ Must:

Show trends only

Link to evidence

Label AI outputs clearly

❌ Must NOT:

Allow data mutation

3.6 Regulator – Portal

✅ Must:

Be read-only

Enforce scope

Log every click

❌ Must NOT:

Show unrelated org data

Allow exports outside scope

4. MOBILE-SPECIFIC WIREFRAMES (FIELD-FIRST)
4.1 Mobile Navigation
Bottom Nav:
[ Crew ] [ QR Scan ] [ Log ] [ Incident ]

4.2 Mobile Crew View
Crew List
--------------------------------
A | VALID | [QR]
B | EXPIRING | [QR]
C | EXPIRED | ❌


Tap QR → system camera → verification page.

4.3 Mobile QR Scan Result
✔ VERIFIED
Certification: FRA Track
Status: VALID
Time: 07:14 AM

[ Evidence Recorded ]


Offline:

⚠ OFFLINE
Last verified: Yesterday 16:02
Sync pending

4.4 Mobile Field Log
Weather (auto)
Crew (auto)
Equipment (select)
Notes
Photo Capture

[ Submit ]


After submit:

Screen locks

Shows Evidence ID

4.5 Mobile Incident Trigger
Incident Type
Location (GPS)
Employees (select)
Photos

[ Submit Incident ]

FINAL CONFIRMATION

You now have:

✅ Figma-ready component specs

✅ Exact API → UI mapping

✅ QA-enforceable acceptance criteria

✅ Mobile wireframes aligned to field reality

✅ Zero dummy data

✅ Full audit defensibility

This is build-ready for a serious team.
